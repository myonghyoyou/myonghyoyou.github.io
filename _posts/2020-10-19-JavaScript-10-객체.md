---
title: JavaScript (10) 객체
tags: JavaScript
article_header:
  type: cover
  image:
---

### 개요

객체는 중괄호 `{...}`를 이용해 만들 수 있다. 

중괄호 안에는 '키(key):값(value)' 쌍으로 구성된 *프로퍼티*(property)를 여러 개 넣을 수 있는데,
키(key)에는 문자형, 값(value)에는 어떤 자료형이든 넣을 수 있다.

빈 객체를 만드는 방법에는 두 가지가 있다.
``` javascript
let user = new Object(); // '객체 생성자' 문법
let user = {}; // '객체 리터럴' 문법
```

객체를 선언할 땐 주로 *객체 리터럴*(object literal)을 사용한다.

---

### 대괄호 표기법

여러 단어를 사용해 프로퍼티 키를 만든 경우에는, 점 표기법을 사용해 프로퍼티를 읽어올 수 없다.

``` javascript
// 문법 에러 발생
user.likes birds = true
```

'점 표기법'은 키가 유효한 변수 식별자인 경우에만 사용할 수 있다. 유효현 변수 식별자엔 공백이 없어야 한다. 
또한 숫자로 시작해서는 안되며, $와_를 제외한 특수 문자가 없어야 한다.

이렇게 유효현 변수 식별자가 아닌 경우에는 '대괄호 표기법(square bracket notation)'이라 부르는 방법을 사용해야 한다.

``` javascript
let user = {};

// set
user["likes birds"] = true;

// get
alert(user["likes birds"]); // true

// delete
delete user["likes birds"];
```

대괄호 표기법 안에서 문자열을 사용할 땐 문자열을 따옴표로 묶어줘야 한다.

대괄호 표기법을 사용하면 모든 표현식의 평가 결과를 프로퍼티 키로 사용할 수 있다.

``` javascript
let key = "likes birds";

// user["likes birds"] = true; 와 같습니다.
user[key] = true;
```

---

### 계산된 프로퍼티

객체를 만들 때 객체 리터럴 안의 프로퍼티 키가 대괄호로 둘러싸여 있는 경우, 이를 계산된 프로퍼티(computed property) 라고 부른다.

예시:
``` javascript
let fruit = prompt("어떤 과일을 구매하시겠습니까?", "apple");

let bag = {
  [fruit]: 5, // 변수 fruit에서 프로퍼티 이름을 동적으로 받아온다.
};

alert( bag.apple ); // fruit에 "apple"이 할당되었다면, 5가 출력된다.
```

아래 예시는 위 예시와 동일하게 작동한다.

``` javascript
let fruit = prompt("어떤 과일을 구매하시겠습니까?", "apple");
let bag = {};

// 변수 fruit을 사용해 프로퍼티 이름을 만들었습니다.
bag[fruit] = 5;
```

대괄호 표기법은 프로퍼티 이름과 값의 제약을 없애주기 때문에 점 표기법보다 훨씬 강력하지만 작성하기 번거롭다는 단점이 있다.

---

### 단축 프로퍼티

``` javascript
function makeUser(name, age) {
  return {
    name: name,
    age: age,
    // ...등등
  };
}
```

위 예시의 프로퍼티들은 이름과 값이 변수의 이름과 동일하다. 
이렇게 변수를 사용해 프로퍼티를 만드는 경우는 아주 흔한데, 프로퍼티 값 단축 구문(property value shorthand) 을 사용하면 코드를 짧게 줄일 수 있다.

name:name 대신 name만 적어주어도 프로퍼티를 설정할 수 있다.

``` javascript
function makeUser(name, age) {
  return {
    name, // name: name 과 같음
    age,  // age: age 와 같음
    // ...
  };
}
```

---

### 프로퍼티 이름의 제약사항

변수 이름(키)엔 ‘for’, ‘let’, ‘return’ 같은 예약어를 사용하면 안되지만 객체 프로퍼티엔 이런 제약이 없다.

``` javascript
let obj = {
  for: 1,
  let: 2,
  return: 3
};

alert( obj.for + obj.let + obj.return );  // 6
```

위와 같이 프로퍼티 이름엔 특별한 제약이 없다. 어떤 문자형, 심볼형 값도 프로퍼티 키가 될 수 있다.

그러나, `__proto__` 만은 역사적인 이유 때문에 특별한 대우를 받으므로 프로퍼티 키로 사용할 수 없다.

---

참조 : <br>
* https://ko.javascript.info/object
