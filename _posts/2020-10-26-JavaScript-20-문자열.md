---
title: JavaScript (20) 문자열
tags: JavaScript
article_header:
  type: cover
  image:

---

### 개요

자바스크립트에서 텍스트 형식의 데이터는 길이에 상관없이 문자열 형태로 저장된다. 

자바스크립트의 문자열은 페이지 인코딩 방식과 상관없이 항상 UTF-16 형식을 따른다.

---

### 특수 기호

자바스크립트엔 다양한 특수 문자들이 존재한다.

| 특수 문자                                            | 설명                                                         |
| ---------------------------------------------------- | ------------------------------------------------------------ |
| `\n`                                                 | 줄 바꿈                                                      |
| `\r`                                                 | 캐리지 리턴(carriage return). Windows에선 캐리지 리턴과 줄 바꿈 특수 문자를 조합(`\r\n`)해 줄을 바꾼다. 캐리지 리턴을 단독으론 사용하는 경우는 없다. |
| `\'`, `\"`                                           | 따옴표                                                       |
| `\\`                                                 | 역슬래시                                                     |
| `\t`                                                 | 탭                                                           |
| `\xXX`                                               | 16진수 유니코드 `XX`로 표현한 유니코드 글자(예시: 알파벳 `'z'`는 `'\x7A'`와 동일함). |
| `\uXXXX`                                             | UTF-16 인코딩 규칙을 사용하는 16진수 코드 `XXXX`로 표현한 유니코드 기호. `XXXX`는 반드시 네 개의 16진수로 구성되어야 함(예시: `\u00A9`는 저작권 기호 `©`의 유니코드임). |
| `\u{X…XXXXXX}`(한 개에서 여섯 개 사이의 16진수 글자) | UTF-32로 표현한 유니코드 기호. 몇몇 특수한 글자는 두 개의 유니코드 기호를 사용해 인코딩되므로 4바이트를 차지한다. 이 방법을 사용하면 긴 코드를 삽입할 수 있다. |

유니코드를 사용한 예시 :

``` javascript
alert( "\u00A9" ); // ©
alert( "\u{20331}" ); // 佫, 중국어(긴 유니코드)
alert( "\u{1F60D}" ); // 😍, 웃는 얼굴 기호(긴 유니코드)
```

---

### 문자열의 길이

`length` 프로퍼티엔 문자열의 길이가 저장된다.

``` javascript
alert( `My\n`.length ); // 3
```

`\n`은 ‘특수 문자’ 하나로 취급되기 때문에 `My\n`의 길이는 `3`이다.

> `length`는 함수가 아니라 프로퍼티이다.

---

### 특정 글자에 접근하기

문자열 내 특정 위치인 `pos`에 있는 글자에 접근하려면 `[pos]`와 같이 대괄호를 이용하거나 str.charAt(pos) 라는 메서드를 이용한다.

근래에는 대괄호를 이용하는 방식을 사용한다. 두 접근 방식의 차이는 반환할 글자가 없을 때 드러난다. 접근하려는 위치에 글자가 없을 경우 `[]`는 `undefined`를, `charAt`은 빈 문자열을 반환한다.

``` javascript
let str = `Hello`;

alert( str[1000] ); // undefined
alert( str.charAt(1000) ); // '' (빈 문자열)
```

`for..of`를 사용하면 문자열을 구성하는 글자를 대상으로 반복 작업이 가능하다.

``` javascript
for (let char of "Hello") {
  alert(char); // H,e,l,l,o (char는 순차적으로 H, e, l, l, o가 됩니다.)
}
```

---

### 문자열의 불변성

문자열은 수정할 수 없다. 문자열의 중간 글자 하나를 바꾸려고 하면 에러가 발생한다.

``` javascript
let str = 'Hi';

str[0] = 'h'; // Error: Cannot assign to read only property '0' of string 'Hi'
alert( str[0] ); // 동작하지 않음.
```

이 문제를 해결하기 위해서는 완전히 새로운 문자열을 하나 만든 다음, `str`에 할당해야 한다.

``` javascript
let str = 'Hi';

str = 'h' + str[1]; // 문자열 전체를 교체함

alert( str ); // hi
```

---

### includes

str.includes(substr,pos)는 `str`에 부분 문자열 `substr`이 있는지에 따라 `true`나 `false`를 반환한다.

부분 문자열의 위치 정보는 필요하지 않고 포함 여부만 알고 싶을 때 적합한 메서드이다.

``` javascript
alert( "Widget with id".includes("Widget") ); // true

alert( "Hello".includes("Bye") ); // false
```

두 번째 인수를 넘기면 해당 위치부터 부분 문자열을 검색한다.

``` javascript
alert( "Widget".includes("id") ); // true
alert( "Widget".includes("id", 3) ); // false, 세 번째 위치 이후엔 "id"가 없습니다.
```

---

### 부분 문자열 추출

**`str.slice(start [, end])`**

문자열의 `start`부터 `end`(`end`는 미포함)까지를 반환한다.

예시: 

``` javascript
let str = "stringify";
alert( str.slice(0, 5) ); // 'strin', 0번째부터 5번째 위치까지(5번째 위치의 글자는 포함하지 않음)
alert( str.slice(0, 1) ); // 's', 0번째부터 1번째 위치까지(1번째 위치의 자는 포함하지 않음)
```

두 번재 인수가 생략된 경우엔, 명시한 위치부터 문자열 끝까지 반환

``` javascript
let str = "stringify";
alert( str.slice(2) ); // ringify, 2번째부터 끝까지
```

`start`와 `end`는 음수가 될 수도 있으며, 음수를 넘기면 문자열 끝에서부터 카운팅을 시작한다.

``` javascript
let str = "stringify";

// 끝에서 4번째부터 시작해 끝에서 1번째 위치까지
alert( str.slice(-4, -1) ); // gif
```

**`str.substring(start [, end])`**

`start`와 `end` 사이에 있는 문자열을 반환한다.

`slice`와 유사하지만 `start`가 `end`보다 커도 괜찮다는 데에 차이가 있다.

``` javascript
let str = "stringify";

// 동일한 부분 문자열을 반환
alert( str.substring(2, 6) ); // "ring"
alert( str.substring(6, 2) ); // "ring"

// slice를 사용하면 결과가 다름
alert( str.slice(2, 6) ); // "ring" (같음)
alert( str.slice(6, 2) ); // "" (빈 문자열)
```

`substring`은 음수 인수 사용 불가

**`str.substr(start, [ length])`**

`start`에서부터 시작해 `length` 개의 글자를 반환한다.

끝 위치 대신에 길이를 기준으로 문자열을 추출하기에 `substring`과 `slice`와 다르다.

``` javascript
let str = "stringify";
alert( str.substr(2, 4) ); // ring, 두 번째부터 글자 네 개
```

첫 번째 인수가 음수면 뒤에서부터 개수를 센다.

``` javascript
let str = "stringify";
alert( str.substr(-4, 2) ); // gi, 끝에서 네 번째 위치부터 글자 두 개
```

---

### 문자열 비교하기

문자열 비교 시 알아야하는 특징이 두가지 있다.

1. 알파벳 소문자의 코드는 대문자의 코드보다 크므로 소문자는 대문자 뒤에 온다.

   ``` javascript
   alert( 'a' > 'Z' ); // true
   ```

2. `Ö` 같은 글자는 일반 알파벳과 멀리 떨어져 있다. `Ö` 의 코드는 알파벳 소문자의 코드보다 훨씬 크다.

   ``` javascript
   let str = '';
   
   for (let i = 65; i <= 220; i++) {
     str += String.fromCodePoint(i);
   }
   alert( str );
   // ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
   // ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜ
   ```

   

---

### 문자열 제대로 비교하기

`str.localeCompare(str2)`를 통해 문자열을 비교할 수 있다. `str`이 `str2`보다 작은지, 같은지, 큰지를 나타내주는 정수가 반환된다.

* `str`이 `str2`보다 작으면 음수를 반환한다.
* `str`이 `str2`보다 크면 양수를 반환한다.
* `str`이 `str2`이 같으면 `0`을 반환한다.

예시:

``` javascript
alert( 'Österreich'.localeCompare('Zealand') ); // -1
```

`localeCompare`엔 선택 인수 두 개를 더 전달할 수 있다.

기준이 되는 언어를 지정해주는 인수와 대·소문자를 구분할지나 `"a"`와 `"á"`를 다르게 취급할지에 대한 것을 설정해주는 인수가 있다.


---

참조 : <br>

* https://ko.javascript.info/string
